(function(window, document, undefined) {
  // using http://paulirish.com/2011/requestanimationframe-for-smart-animating/
  // shim layer with setTimeout fallback
  window.requestAnimFrame = (function() {
    return  window.requestAnimationFrame || 
    window.webkitRequestAnimationFrame   || 
    window.mozRequestAnimationFrame      || 
    window.oRequestAnimationFrame        || 
    window.msRequestAnimationFrame       || 
    function(callback) { window.setTimeout(callback, 1000 / 60); }
  })();

  window.Leap = {
    ready: [],
    extend: function(destination, source) {
      for (var k in source) {
        if (source.hasOwnProperty(k)) {
          destination[k] = source[k];
        }
      }
      return destination; 
    }
  }
  var exports = window.Leap

	<%= load_file("./websocketjs/swfobject.js") %>
	<%= load_file("./websocketjs/web_socket.js") %>
	<%= load_file("./lib/*.js") %>

	for (var readyIdx in Leap.ready) {
		Leap.ready[readyIdx](new Leap.Controller())
	}
})(this, document);
